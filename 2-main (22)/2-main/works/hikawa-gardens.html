<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hikawa Gardens</title>
    <link rel="stylesheet" href="../assets/css/new_project_core.css">
    <!-- Favicons -->
    <link rel="apple-touch-icon" sizes="180x180" href="../assets/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/svg+xml" href="../assets/favicons/favicon_ltsd.svg">
    <link rel="icon" type="image/png" sizes="32x32" href="../assets/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../assets/favicons/favicon-16x16.png">
    <link rel="manifest" href="../assets/favicons/site.webmanifest">
    <meta name="theme-color" content="#ffffff">
</head>
<body>

    <header class="npc-header">
        <div class="npc-header-content">
            <div class="npc-header-left">
                <a href="../index.html" class="npc-logo">LTSD</a>
                <nav class="npc-nav">
                    <a href="../index.html#works" class="npc-nav-link">Back to Projects</a>
                </nav>
            </div>
            <div class="npc-header-right">
                <span class="npc-project-date">Fecha Proyecto Hikawa Gardens</span>
            </div>
        </div>
    </header>

    <main class="npc-main-content">
        <section class="npc-project-title-section">
            <h1>Hikawa Gardens</h1>
        </section>

        <section class="npc-media-gallery">
            <!-- 8 Imágenes y 2 Videos -->
            <div class="npc-media-item" data-media-type="image">
                <img src="../assets/img/common/placeholder.svg?id=hg_img1" alt="Imagen 1 Hikawa Gardens">
                <p class="npc-media-caption">Descripción Imagen 1</p>
            </div>
            <div class="npc-media-item" data-media-type="image">
                <img src="../assets/img/common/placeholder.svg?id=hg_img2" alt="Imagen 2 Hikawa Gardens">
                <p class="npc-media-caption">Descripción Imagen 2</p>
            </div>
            <div class="npc-media-item" data-media-type="image">
                <img src="../assets/img/common/placeholder.svg?id=hg_img3" alt="Imagen 3 Hikawa Gardens">
                <p class="npc-media-caption">Descripción Imagen 3</p>
            </div>
            <div class="npc-media-item" data-media-type="image">
                <img src="../assets/img/common/placeholder.svg?id=hg_img4" alt="Imagen 4 Hikawa Gardens">
                <p class="npc-media-caption">Descripción Imagen 4</p>
            </div>
            <div class="npc-media-item" data-media-type="video">
                <div class="npc-video-wrapper">
                    <iframe src="https://www.youtube.com/embed/VIDEO_ID_HG_1" title="Video 1 Hikawa Gardens" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                </div>
                <p class="npc-media-caption">Descripción Video 1</p>
            </div>
            <div class="npc-media-item" data-media-type="image">
                <img src="../assets/img/common/placeholder.svg?id=hg_img5" alt="Imagen 5 Hikawa Gardens">
                <p class="npc-media-caption">Descripción Imagen 5</p>
            </div>
            <div class="npc-media-item" data-media-type="image">
                <img src="../assets/img/common/placeholder.svg?id=hg_img6" alt="Imagen 6 Hikawa Gardens">
                <p class="npc-media-caption">Descripción Imagen 6</p>
            </div>
            <div class="npc-media-item" data-media-type="image">
                <img src="../assets/img/common/placeholder.svg?id=hg_img7" alt="Imagen 7 Hikawa Gardens">
                <p class="npc-media-caption">Descripción Imagen 7</p>
            </div>
            <div class="npc-media-item" data-media-type="image">
                <img src="../assets/img/common/placeholder.svg?id=hg_img8" alt="Imagen 8 Hikawa Gardens">
                <p class="npc-media-caption">Descripción Imagen 8</p>
            </div>
            <div class="npc-media-item" data-media-type="video">
                <div class="npc-video-wrapper">
                    <iframe src="https://www.youtube.com/embed/VIDEO_ID_HG_2" title="Video 2 Hikawa Gardens" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                </div>
                <p class="npc-media-caption">Descripción Video 2</p>
            </div>
        </section>

        <section class="npc-project-description">
            <h2>Descripción Detallada: Hikawa Gardens</h2>
            <p>Contenido específico para Hikawa Gardens...</p>
        </section>
    </main>

    <footer class="npc-footer">
        <p>&copy; <span id="npc-current-year"></span> LT Studio Desing. Todos los derechos reservados.</p>
    </footer>

    <div class="npc-media-counter-wrapper">
        <span id="npc-current-media">01</span>
        <div class="npc-progress-bar-container">
            <div class="npc-progress-bar-fill" id="npc-progress-fill"></div>
        </div>
        <span id="npc-total-media">10</span>
    </div>

    <script>
        document.getElementById('npc-current-year').textContent = new Date().getFullYear();
    </script>
    <script src="../assets/js/new_project_counter.js" defer></script>
    <script>
    // Script de reseteo agresivo (Versión más limpia)
    function applyAggressiveResets(logPrefix = '') {
        const elementsToReset = [
            { selector: 'html', name: '<html>' },
            { selector: 'body', name: '<body>' },
            { selector: '#wrapper', name: '#wrapper' }, // Asumiendo que #wrapper es el problemático
            { selector: '#page', name: '#page' },       // Incluir por si acaso
            { selector: '#contents', name: '#contents' } // Incluir por si acaso
        ];
        let changesMadeThisRun = false;
        elementsToReset.forEach(item => {
            const el = document.querySelector(item.selector);
            if (el) {
                let elChanged = false;
                // Solo intentamos cambiar si el valor computado no es 'none' o el deseado
                if (window.getComputedStyle(el).transform !== 'none') {
                    el.style.setProperty('transform', 'none', 'important');
                    elChanged = true;
                }
                if (window.getComputedStyle(el).filter !== 'none') {
                    el.style.setProperty('filter', 'none', 'important');
                    elChanged = true;
                }
                if (window.getComputedStyle(el).perspective !== 'none') {
                    el.style.setProperty('perspective', 'none', 'important');
                    elChanged = true;
                }

                const currentOverflow = window.getComputedStyle(el).overflow;
                const currentOverflowY = window.getComputedStyle(el).overflowY;

                // Solo forzar overflow si es estrictamente 'hidden' y es un wrapper principal o body
                if (item.name === '<body>' || item.name === '#wrapper' || item.name === '#page' || item.name === '#contents') {
                    if (currentOverflow === 'hidden' || currentOverflowY === 'hidden') {
                         el.style.setProperty('overflow', 'auto', 'important');
                         el.style.setProperty('overflow-y', 'auto', 'important');
                         elChanged = true;
                    }
                }

                if (elChanged) {
                    console.log(`${logPrefix}Reseteo aplicado a: ${item.name}`);
                    changesMadeThisRun = true;
                }
            }
        });
        // No loguear el fin de cada ciclo para reducir ruido
        // if (changesMadeThisRun) console.log(`${logPrefix}Fin del ciclo de reseteo.`);
    }

    document.addEventListener('DOMContentLoaded', function() {
        console.log('Proyecto: DOMContentLoaded - Aplicando reseteo inicial.');
        applyAggressiveResets('INIT: ');
    });

    let resetIntervalAttempts = 0;
    const resetIntervalMs = 100;
    const totalResetDurationMs = 3000;
    const maxResetAttempts = totalResetDurationMs / resetIntervalMs;

    const aggressiveResetIntervalId = setInterval(function() {
        applyAggressiveResets(`INTERVAL #${resetIntervalAttempts + 1}: `);
        resetIntervalAttempts++;
        if (resetIntervalAttempts >= maxResetAttempts) {
            clearInterval(aggressiveResetIntervalId);
            console.log('Proyecto: Reseteo periódico por intervalo finalizado.');
            setTimeout(() => {
                console.log('Proyecto: Aplicando reseteo agresivo tardío final.');
                applyAggressiveResets('LATE FINAL: ');
            }, 500); // Un último intento después de que todo debería haber terminado
        }
    }, resetIntervalMs);
    </script>
</body>
</html>
